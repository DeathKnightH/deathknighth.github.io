(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{401:function(a,n,s){"use strict";s.r(n);var t=s(44),e=Object(t.a)({},(function(){var a=this,n=a.$createElement,s=a._self._c||n;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"快速幂"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#快速幂"}},[a._v("#")]),a._v(" 快速幂")]),a._v(" "),s("p",[a._v("快速幂算法（Binary Exponentiation）又称平方法、二进制取幂法。是一个在 O(logn) 时间内快速计算 "),s("code",[a._v("a^n")]),a._v(" 的小技巧。")]),a._v(" "),s("h2",{attrs:{id:"_1-原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-原理"}},[a._v("#")]),a._v(" 1. 原理")]),a._v(" "),s("p",[a._v("以计算 a 的 n 次方为例，")]),a._v(" "),s("blockquote",[s("p",[a._v("a^n = a * a * a "),s("em",[a._v("...")]),a._v(" a")])]),a._v(" "),s("p",[a._v("由于幂的性质：")]),a._v(" "),s("blockquote",[s("p",[a._v("a^(b+c) = a^b * a^c\na^2b = a^b * a^b = (a^b)^2")])]),a._v(" "),s("p",[a._v("二进制取幂法初见雏形了，计算 "),s("code",[a._v("a^2b")]),a._v("时乘法计算的次数由 "),s("code",[a._v("2b")]),a._v(" 次减少为 "),s("code",[a._v("b + 1")]),a._v("次。进一步泛化算法，把任意整数幂用二进制表示例如：")]),a._v(" "),s("blockquote",[s("p",[a._v("a^13 = a^8 * a^4 * a^1 //因为 13 用 2 进制表示为 1101")])]),a._v(" "),s("p",[a._v("公式化就是：")]),a._v(" "),s("blockquote",[s("p",[a._v("将 n 转换为等价的二进制 $(n_0n_1...n_k-1n_k)_2$")])]),a._v(" "),s("p",[a._v("$$\na^n = a^{n_02^0} \\times a^{n_12^1} \\times a^{n_22^2} \\times ... \\times a^{n_k2^k}\n$$")]),a._v(" "),s("h2",{attrs:{id:"_2-java-实现"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-java-实现"}},[a._v("#")]),a._v(" 2. Java 实现")]),a._v(" "),s("ul",[s("li",[a._v("递归实现：")])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("// 由于结果太大，使用取 10^9 + 7 的模\npublic int binPow(int a, int n){\n  if(n == 0){\n    return 1;\n  }\n  int sub = binPow(a, n / 2);\n  if((n % 2) != 0){\n    return (int)((long)sub * (long)sub * a) % 1000000007;\n  }else{\n    return (int)((long)sub * (long)sub) % 1000000007;\n  }\n}\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br")])]),s("ul",[s("li",[a._v("非递归实现：")])]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("// 由于结果太大，使用取 10^9 + 7 的模\npublic int binPow(int a, int n){\n  int result = 1;\n  while(n > 0){\n    if((b & 1) == 1){\n      result = (int)((long)result * a) % 1000000007;\n    }\n    a = (int)((long)a * a) % 1000000007;\n    n >> 1;\n  }\n  return result;\n}\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br")])]),s("h2",{attrs:{id:"_3-应用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-应用"}},[a._v("#")]),a._v(" 3. 应用")]),a._v(" "),s("h3",{attrs:{id:"_3-1-矩阵乘快速幂"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-矩阵乘快速幂"}},[a._v("#")]),a._v(" 3.1 矩阵乘快速幂")]),a._v(" "),s("ul",[s("li",[s("ol",{attrs:{start:"552"}},[s("li",[a._v("学生出勤记录 II")])])]),a._v(" "),s("li",[s("ol",{attrs:{start:"1137"}},[s("li",[a._v("第 N 个泰波那契数")])])])])])}),[],!1,null,null,null);n.default=e.exports}}]);