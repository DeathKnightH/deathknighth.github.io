(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{496:function(e,s,t){"use strict";t.r(s);var a=t(44),n=Object(a.a)({},(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"optional-类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#optional-类"}},[e._v("#")]),e._v(" Optional 类")]),e._v(" "),t("h2",{attrs:{id:"_1-解决什么问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-解决什么问题"}},[e._v("#")]),e._v(" 1. 解决什么问题？")]),e._v(" "),t("p",[e._v("Java 开发中 null point exception 是一类很恶心的问题，实际开发中经常要在各种方法里写一大堆判断 null 的 if 语句，一旦漏掉某个判断，运行时出现 "),t("code",[e._v("NullPointException")]),e._v(" 排查起来又很困难。")]),e._v(" "),t("p",[e._v("Optional 类就是 Java 8 为了解决这类问题的一个解决方案。")]),e._v(" "),t("h2",{attrs:{id:"_2-常用-api"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-常用-api"}},[e._v("#")]),e._v(" 2. 常用 API")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("isPresent()")]),e._v(" 判断是否为 null")]),e._v(" "),t("li",[t("code",[e._v("ifPresent(Consumer<T>)")]),e._v(" 如果有值则执行 Consumer，否则什么都不做")]),e._v(" "),t("li",[t("code",[e._v("orElse(T)")]),e._v(" 如果有值就返回原有值，否则返回指定的值")]),e._v(" "),t("li",[t("code",[e._v("get()")]),e._v(" 如果有值就返回原有值，否则就抛出 NoSuchElementException")])]),e._v(" "),t("h2",{attrs:{id:"_3-使用注意事项"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-使用注意事项"}},[e._v("#")]),e._v(" 3. 使用注意事项")]),e._v(" "),t("p",[e._v("尽量使用函数式编程，否则 Optional 只是多了一层封装，还是要 if 判断。")]),e._v(" "),t("p",[e._v("错误的用法：")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('public static String getName(User user) {\n    Optional<User> oUser = Optional.ofNullable(user);\n    if (!oUser.isPresent())\n        return "Unknown";\n    return oUser.get().getName();\n}\n')])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br")])]),t("p",[e._v("正确的用法：")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('public static String getName(User user) {\n    return Optional.ofNullable(user).map(User::getName).orElse("Unknown");\n}\n')])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br")])])])}),[],!1,null,null,null);s.default=n.exports}}]);