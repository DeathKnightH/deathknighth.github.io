(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{414:function(_,v,t){"use strict";t.r(v);var e=t(44),a=Object(e.a)({},(function(){var _=this,v=_.$createElement,t=_._self._c||v;return t("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[t("h1",{attrs:{id:"存储引擎"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#存储引擎"}},[_._v("#")]),_._v(" 存储引擎")]),_._v(" "),t("p",[_._v("MySQL 支持多种存储引擎，可以使用")]),_._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[_._v("SHOW ENGINES;\n")])]),_._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[_._v("1")]),t("br")])]),t("p",[_._v("语句查看有哪些存储引擎可用。")]),_._v(" "),t("h2",{attrs:{id:"_1-存储引擎特性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-存储引擎特性"}},[_._v("#")]),_._v(" 1.存储引擎特性")]),_._v(" "),t("p",[_._v("常见的几种存储引擎：")]),_._v(" "),t("table",[t("thead",[t("tr",[t("th",[_._v("存储引擎")]),_._v(" "),t("th",[_._v("描述")])])]),_._v(" "),t("tbody",[t("tr",[t("td",[_._v("ARCHIVE")]),_._v(" "),t("td",[_._v("数据存档引擎，行被插入后就不能被修改了")])]),_._v(" "),t("tr",[t("td",[_._v("BLACKHOLE")]),_._v(" "),t("td",[_._v("会丢弃写操作，读操作会返回空内容")])]),_._v(" "),t("tr",[t("td",[_._v("CSV")]),_._v(" "),t("td",[_._v("以逗号作为数据项之间的分隔符")])]),_._v(" "),t("tr",[t("td",[_._v("FEDERATED")]),_._v(" "),t("td",[_._v("用来访问远程表的存储引擎")])]),_._v(" "),t("tr",[t("td",[_._v("InnoDB")]),_._v(" "),t("td",[_._v("具备外键支持功能的事务处理存储引擎，MySQL 5.5 版本后的默认引擎")])]),_._v(" "),t("tr",[t("td",[_._v("MEMORY")]),_._v(" "),t("td",[_._v("内存引擎")])]),_._v(" "),t("tr",[t("td",[_._v("MERGE")]),_._v(" "),t("td",[_._v("用来管理由多个MyISAM表构成的表合集")])]),_._v(" "),t("tr",[t("td",[_._v("MyISAM")]),_._v(" "),t("td",[_._v("主要的非事务处理存储引擎，MySQL 5.5 版本前的默认引擎")])]),_._v(" "),t("tr",[t("td",[_._v("NDB")]),_._v(" "),t("td",[_._v("MySQL 集群专用存储引擎")])])])]),_._v(" "),t("p",[_._v("MySQL 的存储引擎是"),t("code",[_._v("插件式")]),_._v("的，允许将第三方开发的存储引擎集成到服务器中。")]),_._v(" "),t("h3",{attrs:{id:"_1-1-查看具体的引擎信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-查看具体的引擎信息"}},[_._v("#")]),_._v(" 1.1 查看具体的引擎信息")]),_._v(" "),t("p",[_._v("使用：")]),_._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[_._v("SHOW ENGINES\\G;\n\nEngine : InnoDB // TODO\n")])]),_._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[_._v("1")]),t("br"),t("span",{staticClass:"line-number"},[_._v("2")]),t("br"),t("span",{staticClass:"line-number"},[_._v("3")]),t("br")])]),t("ul",[t("li",[_._v("Support 值表示引擎可用状态，"),t("code",[_._v("YES")]),_._v("/"),t("code",[_._v("NO")]),_._v("/"),t("code",[_._v("DEFAULT")]),_._v("/"),t("code",[_._v("DISABLE")]),_._v("，其中 "),t("code",[_._v("DISABLE")]),_._v(" 表示该引擎存在但是被禁用。")]),_._v(" "),t("li",[_._v("Transactions 值表示是否支持事务。")]),_._v(" "),t("li",[_._v("XA 值表示是否支持分布式事务。")]),_._v(" "),t("li",[_._v("Savepoints 值表示是否支持部分事务回滚。")])]),_._v(" "),t("h3",{attrs:{id:"_1-2-表的磁盘存储和存储引擎"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-表的磁盘存储和存储引擎"}},[_._v("#")]),_._v(" 1.2 表的磁盘存储和存储引擎")]),_._v(" "),t("p",[_._v("MySQL 在创建表时会创建一个磁盘文件用于存储表定义，格式为 "),t("code",[_._v("表名.frm")]),_._v("，这个文件不会随存储引擎而变化。但是有些存储引擎会额外创建文件用于存储表相关的额外内容。")]),_._v(" "),t("table",[t("thead",[t("tr",[t("th",[_._v("存储引擎")]),_._v(" "),t("th",[_._v("磁盘文件")])])]),_._v(" "),t("tbody",[t("tr",[t("td",[_._v("InnoDB")]),_._v(" "),t("td",[t("code",[_._v(".ibd")]),_._v(" 数据和索引")])]),_._v(" "),t("tr",[t("td",[_._v("MyISAM")]),_._v(" "),t("td",[t("code",[_._v(".MYD")]),_._v(" 数据，"),t("code",[_._v(".MYI")]),_._v(" 索引")])]),_._v(" "),t("tr",[t("td",[_._v("CSV")]),_._v(" "),t("td",[t("code",[_._v(".CSV")]),_._v(" 数据，"),t("code",[_._v(".CSM")]),_._v(" 元数据")])])])]),_._v(" "),t("p",[_._v("有几种特殊情况：")]),_._v(" "),t("ul",[t("li",[_._v("InnoDB 在默认情况下回把数据和索引存储在它的系统表空间中，如果手动配置了 InnoDB 为每个表分别创建一个表空间，此时才会有 "),t("code",[_._v(".ibd")]),_._v(" 文件。")]),_._v(" "),t("li",[_._v("MEMORY 的表和数据都在内存中。")])]),_._v(" "),t("h2",{attrs:{id:"_2-innodb"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-innodb"}},[_._v("#")]),_._v(" 2. InnoDB")]),_._v(" "),t("p",[_._v("是 MySQL 在 5.5 版本后的默认存储引擎。")]),_._v(" "),t("p",[_._v("具有如下特性：")]),_._v(" "),t("ul",[t("li",[_._v("支持事务，实现了4个标准的隔离级别，默认是 RR （可重复读），实际通过 MVVC 和 Next-key lock 可以防止幻读。")]),_._v(" "),t("li",[_._v("完整支持外键，包括级联删除和更新。")]),_._v(" "),t("li",[_._v("主索引是聚簇索引，在索引中存储了数据，避免高频读取磁盘，提升了查询性能。")]),_._v(" "),t("li",[_._v("从 5.6 版本起，支持全文搜索和 "),t("code",[_._v("FULLTEXT")]),_._v(" 索引。")]),_._v(" "),t("li",[_._v("支持在线热备份。")])]),_._v(" "),t("p",[_._v("是最常用的存储引擎，只要有事务要求基本都会选择此引擎。")]),_._v(" "),t("h2",{attrs:{id:"_3-myisam"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-myisam"}},[_._v("#")]),_._v(" 3. MyISAM")]),_._v(" "),t("p",[_._v("是 MySQL 在 5.5 版本之前的默认存储引擎。")]),_._v(" "),t("p",[_._v("具有如下特性：")]),_._v(" "),t("ul",[t("li",[_._v("不支持事务。")]),_._v(" "),t("li",[_._v("不支持行锁，并发操作由表锁控制（并发插入 CONCURRENT INSERT）。")]),_._v(" "),t("li",[_._v("支持全文搜索和 "),t("code",[_._v("FULLTEXT")]),_._v(" 索引。")]),_._v(" "),t("li",[_._v("支持空间数据类型和 "),t("code",[_._v("SPATIAL")]),_._v(" 索引。")]),_._v(" "),t("li",[_._v("当保存连续相似的字符串、数字索引时，会进行键压缩。")]),_._v(" "),t("li",[_._v("支持检查和恢复操作，也可以通过设置 "),t("code",[_._v("myisam_recover_options")]),_._v(" 变量来进行自动检查和修复。和事务回滚不同，修复操作慢且有可能丢失数据。")])]),_._v(" "),t("p",[_._v("设计简单，如果不考虑事务和恢复，可以使用此引擎。")]),_._v(" "),t("h2",{attrs:{id:"_4-memory"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-memory"}},[_._v("#")]),_._v(" 4. MEMORY")]),_._v(" "),t("p",[_._v("区别于其他引擎把数据存储在磁盘，MEMORY 引擎会把数据存储在内存中。")]),_._v(" "),t("p",[_._v("具有如下特性：")]),_._v(" "),t("ul",[t("li",[_._v("数据内容存储在内存中，数据表行的长度固定，操作数据速度快。")]),_._v(" "),t("li",[_._v("数据表具有临时性，服务器掉电时，数据内容也会消失（表不会消失，数据会）。")]),_._v(" "),t("li",[_._v("默认情况使用散列索引，对"),t("code",[_._v("相等比较")]),_._v("操作很快，对"),t("code",[_._v("范围比较")]),_._v("操作很慢。")]),_._v(" "),t("li",[_._v("行长度固定，所以不能使用 "),t("code",[_._v("BLOB")]),_._v(" 和 "),t("code",[_._v("TEXT")]),_._v(" 这种变长数据类型，但是可以使用 "),t("code",[_._v("VARCHAR")]),_._v("（在 MySQL 中会被当做长度不变的 "),t("code",[_._v("CHAR")]),_._v(" 类型）。")])])])}),[],!1,null,null,null);v.default=a.exports}}]);