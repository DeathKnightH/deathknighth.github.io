(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{409:function(s,a,e){"use strict";e.r(a);var t=e(44),n=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"股票买卖问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#股票买卖问题"}},[s._v("#")]),s._v(" 股票买卖问题")]),s._v(" "),e("h2",{attrs:{id:"_1-题目框架解析"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-题目框架解析"}},[s._v("#")]),s._v(" 1.题目框架解析")]),s._v(" "),e("p",[s._v("此类问题有以下3个特点：")]),s._v(" "),e("ul",[e("li",[s._v("限定交易次数 "),e("code",[s._v("k")]),s._v("，一次交易是指一次 "),e("code",[s._v("买+卖")]),s._v("。在算法实现中用一次 "),e("code",[s._v("买")]),s._v(" 作为一次交易，因为 "),e("code",[s._v("买")]),s._v(" 是交易的开始，只有在买的时候计算交易次数，才不会出现重复买的情况。")]),s._v(" "),e("li",[s._v("给出一个每天股价的数组，数组元素为非负数。")]),s._v(" "),e("li",[s._v("同时能够持有的股票数量，通常题目中这个数量限制为 1，只有当前持有数为 0 才能继续买入。")])]),s._v(" "),e("h2",{attrs:{id:"_2-状态转移方程和-dp-表"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-状态转移方程和-dp-表"}},[s._v("#")]),s._v(" 2.状态转移方程和 dp 表")]),s._v(" "),e("p",[s._v("通用的 dp 表为一个 3 维数组：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("int[days][k][status] dp;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("days: 当前天数")]),s._v(" "),e("li",[s._v("k: 当前已交易的次数，根据上一节的说明，这里通常是 "),e("code",[s._v("买")]),s._v(" 操作的次数")]),s._v(" "),e("li",[s._v("status: 持有股票的状态，如果是二元状态，"),e("code",[s._v("0")]),s._v(" 表示不持有，"),e("code",[s._v("1")]),s._v(" 表示持有")])]),s._v(" "),e("p",[s._v("状态转移方程：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("for i in 1...n\n  for j in 0...k\n    dp[i][j][0] = Max(dp[i - 1][k][1] + prices[i], dp[i - 1][k][0])   // Max(前一天持有股票今天卖掉, 前一天未持有股票今天保持未持有)\n    dp[i][j][1] = Max(dp[i - 1][k][1], p[i - 1][k - 1][0] - price[i]) // Max(前一天持有股票今天保持持有, 前一天未持有股票今天买入)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("p",[s._v("那么结果第 "),e("code",[s._v("n")]),s._v(" 天总交易次数 "),e("code",[s._v("k")]),s._v(" 的情况下，获利最大为：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("dp[n][k][0]\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])])}),[],!1,null,null,null);a.default=n.exports}}]);