(window.webpackJsonp=window.webpackJsonp||[]).push([[136],{524:function(e,s,t){"use strict";t.r(s);var a=t(44),n=Object(a.a)({},(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h2",{attrs:{id:"参数异常"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参数异常"}},[e._v("#")]),e._v(" 参数异常")]),e._v(" "),t("h2",{attrs:{id:"sqlexception"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sqlexception"}},[e._v("#")]),e._v(" SQLException")]),e._v(" "),t("ul",[t("li",[e._v("Cause: java.sql.SQLException: 无效的列类型: 1111")])]),e._v(" "),t("p",[e._v("插入数据库的值为 null，没有指定类型，这个错和具体的 jdbc 实现有关。")]),e._v(" "),t("p",[e._v("比如 oracle 的 ojdbc 会报这个错，因为 null 会被转换为 jdbctype.OTHER，此时有两种解决方法：\n1、在插值处使用 "),t("code",[e._v("jdbctype")]),e._v(" 属性显式指定类型。例如：")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('SELECT <include refid="columns"/> FROM user WHERE uid=#{uid, jdbcType=INTEGER}\n')])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[e._v("指定 "),t("code",[e._v("uid")]),e._v(" jdbc type 为 "),t("code",[e._v("INTEGER")]),e._v("。")]),e._v(" "),t("p",[e._v("2、在全局的 settings 中设置 "),t("code",[e._v("jdbcTypeForNull")]),e._v(" 配置项：")]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('<settings>\n  <setting name="jdbcTypeForNull" value="BLOB"/>\n</settings>\n')])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br")])]),t("p",[e._v("以上两种方法，优先级 1 > 2，特定插值的设置会覆盖全局配置。")])])}),[],!1,null,null,null);s.default=n.exports}}]);