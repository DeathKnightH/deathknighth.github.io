(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{478:function(a,t,e){"use strict";e.r(t);var s=e(44),r=Object(s.a)({},(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"i-o-在日常工作中的应用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#i-o-在日常工作中的应用"}},[a._v("#")]),a._v(" I/O 在日常工作中的应用")]),a._v(" "),e("h2",{attrs:{id:"_1-资源定位"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-资源定位"}},[a._v("#")]),a._v(" 1. 资源定位")]),a._v(" "),e("h3",{attrs:{id:"_1-1-uri-和-url"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-uri-和-url"}},[a._v("#")]),a._v(" 1.1 URI 和 URL")]),a._v(" "),e("p",[a._v("URI 全称是统一资源标志符。")]),a._v(" "),e("p",[a._v("URI 有不同的确定唯一资源的实现方式，URL 可以看做用资源定位实现唯一标志的 URI，所以 URL 是 URI 的一个子集。")]),a._v(" "),e("p",[a._v("java 中这两者靠字符串形式来互相转换，具体参考 java.net.URL#toURI 和 java.net.URI#toURL。")]),a._v(" "),e("h3",{attrs:{id:"_1-2-绝对路径和相对路径"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-绝对路径和相对路径"}},[a._v("#")]),a._v(" 1.2 绝对路径和相对路径")]),a._v(" "),e("p",[a._v("路径一般是一个 URL，用于定位一个资源的位置。")]),a._v(" "),e("h4",{attrs:{id:"_1-2-1-windows-系统下"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-1-windows-系统下"}},[a._v("#")]),a._v(" 1.2.1 Windows 系统下")]),a._v(" "),e("ul",[e("li",[a._v("绝对路径：")])]),a._v(" "),e("p",[a._v("从盘符开始，包含全路径，例如记事本：")]),a._v(" "),e("blockquote",[e("p",[a._v("C:\\Windows\\notepad.exe")])]),a._v(" "),e("ul",[e("li",[a._v("相对路径：")])]),a._v(" "),e("p",[a._v("从当前目录开始，"),e("code",[a._v(".")]),a._v(" 代指当前目录，"),e("code",[a._v("..")]),a._v("表示上层目录，例如当前目录是"),e("code",[a._v("C:\\")]),a._v(" 时，用相对路径表示记事本：")]),a._v(" "),e("blockquote",[e("p",[a._v(".\\Windows\\notepad.exe")])]),a._v(" "),e("p",[a._v("例如当前目录是"),e("code",[a._v("C:\\Windows\\")]),a._v(" 时,表示同为 C 盘目录下的 "),e("code",[a._v("office word")]),a._v("：")]),a._v(" "),e("blockquote",[e("p",[a._v("..\\Program Files\\Microsoft Office\\Office15\\WINWORD.EXE")])]),a._v(" "),e("h4",{attrs:{id:"_1-2-2-linux-系统下"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-2-linux-系统下"}},[a._v("#")]),a._v(" 1.2.2 linux 系统下")]),a._v(" "),e("ul",[e("li",[a._v("绝对路径：")])]),a._v(" "),e("p",[a._v("当前计算机的全路径：")]),a._v(" "),e("blockquote"),a._v(" "),e("h4",{attrs:{id:"_1-2-3-网络"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-3-网络"}},[a._v("#")]),a._v(" 1.2.3 网络")]),a._v(" "),e("h3",{attrs:{id:"_1-3-file"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-file"}},[a._v("#")]),a._v(" 1.3 File")]),a._v(" "),e("h3",{attrs:{id:"_1-4-files-path-filesystem"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-files-path-filesystem"}},[a._v("#")]),a._v(" 1.4 Files/Path/FileSystem")]),a._v(" "),e("p",[a._v("jdk 7 新引入的文件处理类，在 nio 包下。")]),a._v(" "),e("h2",{attrs:{id:"_2-读文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-读文件"}},[a._v("#")]),a._v(" 2. 读文件")]),a._v(" "),e("h3",{attrs:{id:"_2-1-按文件位置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-按文件位置"}},[a._v("#")]),a._v(" 2.1 按文件位置")]),a._v(" "),e("h4",{attrs:{id:"_2-1-1-从压缩包中读"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-1-从压缩包中读"}},[a._v("#")]),a._v(" 2.1.1 从压缩包中读")]),a._v(" "),e("p",[a._v("JDK 1.7 加入了 Files 系列工具类，读写文件操作比之前简单。")]),a._v(" "),e("ul",[e("li",[a._v("jdk 1.7 之前的写法")])]),a._v(" "),e("p",[a._v("ZipFile 读取压缩包，遍历 ZipEntry 读取压缩包内容：")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("    public byte[] readZipFile(String path, String name) throws IOException {\n        try (ZipFile zipFile = new ZipFile(path)) {\n            ZipEntry zipEntry = zipFile.getEntry(name);\n            try (InputStream inputStream = zipFile.getInputStream(zipEntry)) {\n                try (ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream()) {\n                    byte[] buffer = new byte[1024];\n                    while(inputStream.read(buffer) != -1){\n                        byteArrayOutputStream.write(buffer);\n                    }\n                    return byteArrayOutputStream.toByteArray();\n                }\n            }\n        }\n    }\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br"),e("span",{staticClass:"line-number"},[a._v("10")]),e("br"),e("span",{staticClass:"line-number"},[a._v("11")]),e("br"),e("span",{staticClass:"line-number"},[a._v("12")]),e("br"),e("span",{staticClass:"line-number"},[a._v("13")]),e("br"),e("span",{staticClass:"line-number"},[a._v("14")]),e("br")])]),e("ul",[e("li",[a._v("jdk 1.7 的写法")])]),a._v(" "),e("p",[a._v("创建压缩包的 FileSystem，从 FileSystem 中查找需要读取的文件 path，再用 Flies 工具读取：")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("    public byte[] readZipFile7(String path, String name) throws IOException {\n        Path zipFilePath = Paths.get(path);\n        Path completePath;\n        try (FileSystem zipFileSystem = FileSystems.newFileSystem(zipFilePath, this.getClass().getClassLoader())) {\n            completePath = zipFileSystem.getPath(name);\n        }\n        return Files.readAllBytes(completePath);\n    }\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br")])]),e("h4",{attrs:{id:"_2-1-2-从网络上读"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-2-从网络上读"}},[a._v("#")]),a._v(" 2.1.2 从网络上读")]),a._v(" "),e("h3",{attrs:{id:"_2-2-按文件类型分"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-按文件类型分"}},[a._v("#")]),a._v(" 2.2 按文件类型分")]),a._v(" "),e("h4",{attrs:{id:"_2-2-1-文本文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-1-文本文件"}},[a._v("#")]),a._v(" 2.2.1 文本文件")]),a._v(" "),e("p",[a._v("常用的是逐行读取，在 JDK 8 以前需要手动循环调用 "),e("code",[a._v("readline")]),a._v("：")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("JDK 8 之后 Files 类中添加了 "),e("code",[a._v("readAllLines")]),a._v(" 方法和 "),e("code",[a._v("lines")]),a._v(" 方法，其中 "),e("code",[a._v("readAllLines")]),a._v(" 适用于文件不大时整个读取：")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code")]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"})]),e("p",[e("code",[a._v("lines")]),a._v(" 方法则是使用了函数式编程的思想，利用了 JDK 8 新增的 stream 特性，迭代读取每一行：")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code")]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"})]),e("p",[a._v("另外，JDK 8 在 Files 类中增加了一个创建 "),e("code",[a._v("BufferedReader")]),a._v(" 的新方法:")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code")]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"})]),e("h4",{attrs:{id:"_2-2-2-二进制"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-2-二进制"}},[a._v("#")]),a._v(" 2.2.2 二进制")]),a._v(" "),e("h4",{attrs:{id:"_2-2-3-xml"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-3-xml"}},[a._v("#")]),a._v(" 2.2.3 XML")]),a._v(" "),e("h4",{attrs:{id:"_2-2-4-properties"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-4-properties"}},[a._v("#")]),a._v(" 2.2.4 properties")]),a._v(" "),e("h4",{attrs:{id:"_2-2-5-yml"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-5-yml"}},[a._v("#")]),a._v(" 2.2.5 yml")]),a._v(" "),e("h4",{attrs:{id:"_2-2-6-excel"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-6-excel"}},[a._v("#")]),a._v(" 2.2.6 Excel")]),a._v(" "),e("h4",{attrs:{id:"_2-2-7-class"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-7-class"}},[a._v("#")]),a._v(" 2.2.7 class")]),a._v(" "),e("p",[a._v("常用于自定义的 classloader 中，读取过程同二进制文件。")]),a._v(" "),e("p",[a._v("读取 class 文件的二进制数据，用自定义的 classloader 加载：")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code")]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"})]),e("h4",{attrs:{id:"_2-2-8-序列化"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-8-序列化"}},[a._v("#")]),a._v(" 2.2.8 序列化")]),a._v(" "),e("h2",{attrs:{id:"_2-写文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-写文件"}},[a._v("#")]),a._v(" 2. 写文件")]),a._v(" "),e("h2",{attrs:{id:"_3-网络io"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-网络io"}},[a._v("#")]),a._v(" 3. 网络IO")]),a._v(" "),e("h3",{attrs:{id:"_3-1-socket"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-socket"}},[a._v("#")]),a._v(" 3.1 Socket")]),a._v(" "),e("h3",{attrs:{id:"_3-2-datagram"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-datagram"}},[a._v("#")]),a._v(" 3.2 Datagram")])])}),[],!1,null,null,null);t.default=r.exports}}]);