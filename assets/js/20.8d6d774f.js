(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{369:function(t,a,r){t.exports=r.p+"assets/img/chainofresponsibility.drawio.2ae184cd.png"},442:function(t,a,r){"use strict";r.r(a);var s=r(44),_=Object(s.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"责任链模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#责任链模式"}},[t._v("#")]),t._v(" 责任链模式")]),t._v(" "),s("h2",{attrs:{id:"_1-概念"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-概念"}},[t._v("#")]),t._v(" 1.概念")]),t._v(" "),s("p",[t._v("责任链模式是一种行为设计模式，又称命令链/chain of responsibility，将请求沿链传递，链上的每个成员都能处理请求。")]),t._v(" "),s("h2",{attrs:{id:"_2-意图"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-意图"}},[t._v("#")]),t._v(" 2.意图")]),t._v(" "),s("p",[t._v("将请求的处理者连成一个链条，后续逻辑可以分为两种模式：")]),t._v(" "),s("ul",[s("li",[t._v("处理者判断是否是自己处理的请求，不是就原样传递给下一个处理者，如果是就自己拦截下来处理。类似 servlet filter。")]),t._v(" "),s("li",[t._v("每个处理者都处理一遍请求，不符合要求就中断请求直接返回。类似校验器类。")])]),t._v(" "),s("h2",{attrs:{id:"_3-类图示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-类图示例"}},[t._v("#")]),t._v(" 3.类图示例")]),t._v(" "),s("p",[s("img",{attrs:{src:r(369),alt:"COR"}})]),t._v(" "),s("p",[t._v("图中 BaseHandler 是可选的，为了代码结构简洁可以不使用，直接从 Handler 接口实现具体的处理器。")]),t._v(" "),s("h2",{attrs:{id:"_4-适用场景"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-适用场景"}},[t._v("#")]),t._v(" 4.适用场景")]),t._v(" "),s("h3",{attrs:{id:"_4-1-业务场景"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-业务场景"}},[t._v("#")]),t._v(" 4.1 业务场景")]),t._v(" "),s("ul",[s("li",[t._v("web 开发中常见的 filter/validator 都是责任链模式的实现。")]),t._v(" "),s("li",[t._v("之前做计费项目时，计费的前置条件/预处理参数也是使用责任链模式实现的：\n"),s("ul",[s("li",[t._v("初始的计算参数对象通过条件处理器，将系统/区域/分公司配置的额外条件和参数整合进去。")]),t._v(" "),s("li",[t._v("这些配置的额外条件和参数在代码中都体现为实现了 handler 接口的具体处理器，通过回调函数注册到责任链中。")])])])]),t._v(" "),s("h3",{attrs:{id:"_4-2-开源实例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-开源实例"}},[t._v("#")]),t._v(" 4.2 开源实例")]),t._v(" "),s("h2",{attrs:{id:"_5-实现细节与技巧"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-实现细节与技巧"}},[t._v("#")]),t._v(" 5.实现细节与技巧")]),t._v(" "),s("h2",{attrs:{id:"_6-优缺点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-优缺点"}},[t._v("#")]),t._v(" 6.优缺点")]),t._v(" "),s("h2",{attrs:{id:"_7-与其他设计模式的关系"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-与其他设计模式的关系"}},[t._v("#")]),t._v(" 7.与其他设计模式的关系")])])}),[],!1,null,null,null);a.default=_.exports}}]);