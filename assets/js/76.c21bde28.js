(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{449:function(a,t,r){"use strict";r.r(t);var s=r(44),_=Object(s.a)({},(function(){var a=this,t=a.$createElement,r=a._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[r("h1",{attrs:{id:"虚拟机字节码执行引擎"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#虚拟机字节码执行引擎"}},[a._v("#")]),a._v(" 虚拟机字节码执行引擎")]),a._v(" "),r("h2",{attrs:{id:"_1-概念"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-概念"}},[a._v("#")]),a._v(" 1. 概念")]),a._v(" "),r("p",[a._v("字节码执行引擎是JVM 最核心的部分之一，虚拟机规范中制定了虚拟机字节码执行引擎的概念模型，保证了不同实现的执行引擎外观（Facade）是一致的，即输入的是字节码文件，处理过程是字节码解析的等效过程，输出的是执行结果。")]),a._v(" "),r("p",[a._v("但是具体的执行引擎实现可能会有很大的不同，有的是解释执行，有的是编译执行（通过即时编译器产生本地代码再执行），有的则是两者都有。")]),a._v(" "),r("h2",{attrs:{id:"_2-运行时栈帧结构"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-运行时栈帧结构"}},[a._v("#")]),a._v(" 2. 运行时栈帧结构")]),a._v(" "),r("p",[a._v("前面分析 JVM 内存结构的时候提到过在虚拟机运行时数据区中有一个线程私有的部分："),r("RouterLink",{attrs:{to:"/java/jvm/JVM内存结构.html#2-虚拟机栈"}},[a._v("虚拟机栈")]),a._v("。")],1),a._v(" "),r("p",[a._v("栈帧就是虚拟机栈中的栈元素，栈帧中存储了方法的局部变量表、操作数栈、动态连接、方法返回地址和一些额外的附加信息。每个栈帧所占的内存大小不受运行时数据的影响，只和编译时产生的 Code 属性以及具体的虚拟机实现有关。")]),a._v(" "),r("p",[a._v("对于执行引擎来说，只有当前位于栈顶的栈帧才是有效的，称为当前栈帧（Current Stack Frame），与当前栈帧关联的方法为当前方法（Current Method），执行引擎运行的所有字节码指令都只对当前栈帧进行操作。")]),a._v(" "),r("h3",{attrs:{id:"_2-1-局部变量表"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-局部变量表"}},[a._v("#")]),a._v(" 2.1 局部变量表")]),a._v(" "),r("p",[a._v("Local Variable Table 是一组变量值存储空间，用于存放方法相关的两种变量：方法参数和局部变量。")]),a._v(" "),r("h3",{attrs:{id:"_2-2-操作栈"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-操作栈"}},[a._v("#")]),a._v(" 2.2 操作栈")]),a._v(" "),r("h3",{attrs:{id:"_2-3-动态连接"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-动态连接"}},[a._v("#")]),a._v(" 2.3 动态连接")]),a._v(" "),r("h3",{attrs:{id:"_2-4-返回地址"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-返回地址"}},[a._v("#")]),a._v(" 2.4 返回地址")]),a._v(" "),r("h2",{attrs:{id:"_3-执行逻辑"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-执行逻辑"}},[a._v("#")]),a._v(" 3. 执行逻辑")]),a._v(" "),r("h3",{attrs:{id:"_3-1-方法调用"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-方法调用"}},[a._v("#")]),a._v(" 3.1 方法调用")]),a._v(" "),r("h3",{attrs:{id:"_3-2-字节码执行"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-字节码执行"}},[a._v("#")]),a._v(" 3.2 字节码执行")])])}),[],!1,null,null,null);t.default=_.exports}}]);