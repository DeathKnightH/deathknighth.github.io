(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{383:function(a,s,e){"use strict";e.r(s);var t=e(44),n=Object(t.a)({},(function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"sql-基础"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sql-基础"}},[a._v("#")]),a._v(" SQL 基础")]),a._v(" "),e("p",[a._v("Structured Query Language（SQL，结构化查询语言）又称 ANSI SQL，由 ANSI 标准委员会管理。具体商业应用中每个数据库产品通常都有自己的 SQL 增强实现，比如 oracle 的 PL/SQL，sql server 的 Transact-SQL。")]),a._v(" "),e("h2",{attrs:{id:"_1-语法基础"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-语法基础"}},[a._v("#")]),a._v(" 1. 语法基础")]),a._v(" "),e("h3",{attrs:{id:"_1-1-ddl"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-ddl"}},[a._v("#")]),a._v(" 1.1 DDL")]),a._v(" "),e("p",[a._v("Data definition language 数据定义语言。现在常用的数据库设计软件都可以直接导出 DDL 语句，通常不会自己手写 DDL，这里只列举一下常用 DDL 的使用方法，不做深入研究。")]),a._v(" "),e("h4",{attrs:{id:"数据库"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#数据库"}},[a._v("#")]),a._v(" 数据库")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("CREATE DATABASE test; // 创建名为 test 的数据库\nUSE test; // 使用名为 test 的数据库\nDROP DATABASE test; // 删除名为 test 的数据库\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br")])]),e("h4",{attrs:{id:"表"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#表"}},[a._v("#")]),a._v(" 表")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("CREATE TABLE testtable(\n  column1 datatype1,\n  ...\n  columnn datatypen\n  {,key define}{,index define}\n); // 创建名为 testtable 的数据表\n\nDROP TABLE testtable; // 删除名为 testtable 的数据表\n\nALTER TABLE testtable ADD columnx datatypex; // 修改数据表，增加列\nALTER TABLE testtable DROP COLUMN column1;   // 修改数据表，删除列 column1\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br"),e("span",{staticClass:"line-number"},[a._v("10")]),e("br"),e("span",{staticClass:"line-number"},[a._v("11")]),e("br")])]),e("h4",{attrs:{id:"视图"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#视图"}},[a._v("#")]),a._v(" 视图")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("CREATE VIEW testview AS subquery; // 根据子查询 subquery 创建视图 testview\nDROP VIEW testview; // 删除视图 testview\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br")])]),e("h3",{attrs:{id:"_1-2-dml"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-dml"}},[a._v("#")]),a._v(" 1.2 DML")]),a._v(" "),e("p",[a._v("Data manipulation language 数据操纵语言。日常开发中使用频率最高的 sql，通常说的增删改查都属于 DML。")]),a._v(" "),e("h4",{attrs:{id:"_1-2-1-insert-插入"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-1-insert-插入"}},[a._v("#")]),a._v(" 1.2.1 insert 插入")]),a._v(" "),e("ul",[e("li",[a._v("普通插入，将一条记录插入 tablename 表，其中 column1 值为 value1，column2 值为 value2。")])]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("INSERT INTO tablename(column1, column2)\nVALUES(value1, value2);\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br")])]),e("ul",[e("li",[a._v("将查询结果集直接插入。")])]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("INSERT INTO tablename(column1, column2)\nSELECT col1, col2\nFROM table2;\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br")])]),e("h4",{attrs:{id:"_1-2-2-update-更新"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-2-update-更新"}},[a._v("#")]),a._v(" 1.2.2 update 更新")]),a._v(" "),e("p",[a._v("更新 tablename 表，将其中所有符合 condition 记录的 column1 属性更新为 value1")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("UPDATE tablename\nSET column1 = value1\nWHERE condition;\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br")])]),e("h4",{attrs:{id:"_1-2-3-delete-删除"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-3-delete-删除"}},[a._v("#")]),a._v(" 1.2.3 delete 删除")]),a._v(" "),e("p",[a._v("删除 tablename 表中所有符合 condition 的记录，如果 condition 恒为 true，则删除表的所有记录。")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("DELETE FROM tablename\nWHERE condition;\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br")])]),e("p",[a._v("还有一个 DDL 语句可以实现删除表的所有记录：")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("TRUNCATE TABLE tablename;\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h4",{attrs:{id:"_1-2-4-select-查询"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-4-select-查询"}},[a._v("#")]),a._v(" 1.2.4 select 查询")]),a._v(" "),e("ul",[e("li",[a._v("基本查询")])]),a._v(" "),e("p",[a._v("查询 tablename 表中的所有数据。")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("SELECT * FROM tablename;\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("也可以不跟 "),e("code",[a._v("FROM")]),a._v(" 子句，用于直接计算表达式。常用于检查数据库连接，比如：")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("SELECT 1;\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("ul",[e("li",[a._v("条件查询")])]),a._v(" "),e("p",[a._v("可以只查询符合条件的数据。")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("SELECT * FROM tablename \nWHERE condition;\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br")])]),e("p",[e("code",[a._v("condition")]),a._v(" 由逻辑表达式或者子条件组成，各子条件可以由 "),e("code",[a._v("NOT")]),a._v("/"),e("code",[a._v("AND")]),a._v("/"),e("code",[a._v("OR")]),a._v(" 来修饰和连接。\n不使用括号时，优先级从高到低依次是 "),e("code",[a._v("NOT")]),a._v("/"),e("code",[a._v("AND")]),a._v("/"),e("code",[a._v("OR")]),a._v("。")]),a._v(" "),e("ul",[e("li",[a._v("投影查询")])]),a._v(" "),e("p",[a._v("可以只查询部分属性(列)，这种操作称为投影。同时列名也可以映射为自定义的名称：")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("SELECT column1 AS col1, column2 AS col2\nFROM tablename\nWHERE condition;\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br")])]),e("p",[a._v("查询 "),e("code",[a._v("tablename")]),a._v(" 表中符合 "),e("code",[a._v("condition")]),a._v(" 条件的数据，最后只显示 column1 和 column2 的属性值，同时将 column1 的名称映射为 col1，将 column2 的名称映射为 col2.")]),a._v(" "),e("ul",[e("li",[a._v("查询结果排序")])]),a._v(" "),e("p",[a._v("查询结果默认是以主键排序的。用户可以使用 "),e("code",[a._v("ORDER BY")]),a._v(" 子句实现自定义的结果集排序：")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("SELECT id, name, age\nFROM person\nWHERE id < 100\nORDER BY age;\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br")])]),e("p",[a._v("顺序分为升序(ASC) 和降序(DESC)，默认不写就是升序，如果使用降序：")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("SELECT id, name, age\nFROM person\nWHERE id < 100\nORDER BY age DESC;\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br")])]),e("p",[a._v("可以同时对多列属性进行排序，比如有两个列参与排序：")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("SELECT id, name, age, score\nFROM person\nWHERE id < 100\nORDER BY age DESC, score;\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br")])]),e("p",[a._v("先按照 age 倒序排列，age 属性相同时按照 score 正序排列。")]),a._v(" "),e("ul",[e("li",[a._v("查询结果分组")]),a._v(" "),e("li",[a._v("分页查询")]),a._v(" "),e("li",[a._v("连接查询")]),a._v(" "),e("li",[a._v("笛卡尔积")]),a._v(" "),e("li",[a._v("组合查询")])]),a._v(" "),e("h2",{attrs:{id:"_2-存储过程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-存储过程"}},[a._v("#")]),a._v(" 2. 存储过程")])])}),[],!1,null,null,null);s.default=n.exports}}]);