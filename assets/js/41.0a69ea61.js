(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{410:function(e,t,s){"use strict";s.r(t);var r=s(44),a=Object(r.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"股票买卖问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#股票买卖问题"}},[e._v("#")]),e._v(" 股票买卖问题")]),e._v(" "),s("h2",{attrs:{id:"_1-题目框架解析"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-题目框架解析"}},[e._v("#")]),e._v(" 1.题目框架解析")]),e._v(" "),s("p",[e._v("此类问题有以下3个特点：")]),e._v(" "),s("ul",[s("li",[e._v("限定交易次数 "),s("code",[e._v("k")]),e._v("，一次交易是指一次 "),s("code",[e._v("买+卖")]),e._v("。在算法实现中用一次 "),s("code",[e._v("买")]),e._v(" 作为一次交易，因为 "),s("code",[e._v("买")]),e._v(" 是交易的开始，只有在买的时候计算交易次数，才不会出现重复买的情况。")]),e._v(" "),s("li",[e._v("给出一个每天股价的数组，数组元素为非负数。")]),e._v(" "),s("li",[e._v("同时能够持有的股票数量，通常题目中这个数量限制为 1，只有当前持有数为 0 才能继续买入。")])]),e._v(" "),s("h2",{attrs:{id:"_2-状态转移方程和-dp-表"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-状态转移方程和-dp-表"}},[e._v("#")]),e._v(" 2.状态转移方程和 dp 表")]),e._v(" "),s("p",[e._v("通用的 dp 表为一个 3 维数组：")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("int[days][k][status] dp;\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("ul",[s("li",[e._v("days: 当前天数")]),e._v(" "),s("li",[e._v("k: 当前已交易的次数，根据上一节的说明，这里通常是 "),s("code",[e._v("买")]),e._v(" 操作的次数")]),e._v(" "),s("li",[e._v("status: 持有股票的状态，如果是二元状态，"),s("code",[e._v("0")]),e._v(" 表示不持有，"),s("code",[e._v("1")]),e._v(" 表示持有")])]),e._v(" "),s("p",[e._v("状态转移方程：")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("for i in 1...n\n  for j in 0...k\n    dp[i][j][0] = Max(dp[i - 1][k][1] + prices[i], dp[i - 1][k][0])   // Max(前一天持有股票今天卖掉, 前一天未持有股票今天保持未持有)\n    dp[i][j][1] = Max(dp[i - 1][k][1], p[i - 1][k - 1][0] - price[i]) // Max(前一天持有股票今天保持持有, 前一天未持有股票今天买入)\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br")])]),s("p",[e._v("那么结果第 "),s("code",[e._v("n")]),e._v(" 天总交易次数 "),s("code",[e._v("k")]),e._v(" 的情况下，获利最大为：")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("dp[n][k][0]\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h2",{attrs:{id:"_3-实战题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-实战题"}},[e._v("#")]),e._v(" 3.实战题")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://leetcode.cn/problems/best-time-to-buy-and-sell-stock/",target:"_blank",rel:"noopener noreferrer"}},[e._v("121. 买卖股票的最佳时机"),s("OutboundLink")],1)]),e._v(" "),s("p",[s("a",{attrs:{href:"https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-ii/",target:"_blank",rel:"noopener noreferrer"}},[e._v("122. 买卖股票的最佳时机 II"),s("OutboundLink")],1)]),e._v(" "),s("p",[s("a",{attrs:{href:"https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-iii/",target:"_blank",rel:"noopener noreferrer"}},[e._v("123. 买卖股票的最佳时机 III"),s("OutboundLink")],1)]),e._v(" "),s("p",[s("a",{attrs:{href:"https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-iv/",target:"_blank",rel:"noopener noreferrer"}},[e._v("188. 买卖股票的最佳时机 IV"),s("OutboundLink")],1)]),e._v(" "),s("p",[s("a",{attrs:{href:"https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-with-cooldown/",target:"_blank",rel:"noopener noreferrer"}},[e._v("309. 最佳买卖股票时机含冷冻期"),s("OutboundLink")],1)]),e._v(" "),s("p",[s("a",{attrs:{href:"https://leetcode.cn/problems/best-time-to-buy-and-sell-stock-with-transaction-fee/",target:"_blank",rel:"noopener noreferrer"}},[e._v("714. 买卖股票的最佳时机含手续费"),s("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=a.exports}}]);